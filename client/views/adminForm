<div class="container" ng-controller="siteFormCtrl" ng-app="app">
  <h2 class="title">{{title}}</h2>
  <tabset>
  <tab heading="Main">
  <form name="siteForm" class="form-horizontal">
    <div class="form-group">
      <label class="col-sm-3 control-label form-text">Name:</label>
      <div class="col-sm-3">
        <input class="form-control" ng-disabled="edit" type="text" ng-model="site.name" placeholder="Site Name" required >
      </div> 
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label form-text">Banner Image: </label>
      <div class="col-sm-9">
        <div class="input-group">
          <span class="input-group-btn">
              <span class="btn btn-primary btn-file">
                  Browse&hellip; <input type="file" ngf-select ng-model="files.banner" name="banner" accept="image/*">
              </span>
          </span>
          <input ng-show="files.banner[0] != null" type="text" ng-model="files.banner[0].name" readonly>
          <input ng-show="files.banner[0] == null" type="text" ng-model="site.banner" readonly>
        </div>
        <img ng-show="files.banner[0] != null" ngf-src="files.banner[0]" class="img-thumbnail" width="304" height="236">
        <img ng-show="files.banner[0] == null" ng-src="{{site.banner}}" class="img-thumbnail" width="304" height="236">
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label form-text">Header Image: </label>
      <div class="col-sm-9">
        <div class="input-group">
          <span class="input-group-btn">
              <span class="btn btn-primary btn-file">
                Browse&hellip; <input type="file" ngf-select ng-model="files.header" name="header" accept="image/*">
              </span>
          </span>
          <input type="text" ng-show="files.header[0] != null" ng-model="files.header[0].name" readonly>
          <input type="text" ng-show="files.header[0] == null" ng-model="site.header" readonly>
        </div>
        <img ng-show="files.header[0] != null" ngf-src="files.header[0]" class="img-thumbnail" width="304" height="236">
        <img ng-show="files.header[0] == null" ng-src="{{site.header}}" class="img-thumbnail" width="304" height="236">
      </div>
    </div>

    <div ng-show="edit && activeEvent" class="form-group">
      <label class="col-sm-3 control-label form-text">Registration Link: </label>
      <div class="col-sm-3">
        <input class="form-control" type="text" ng-model="currentEvent.regLink" placeholder="Registration Link">
      </div>
    </div>

    <div ng-show="edit && activeEvent" class="form-group">
      <label class="col-sm-3 control-label form-text">Calender Invite: </label>
      <div class="col-sm-3">
        <input class="form-control" type="text" ng-model="currentEvent.calInvite" placeholder="Outlook Invite">
      </div>
    </div>

    <div ng-show="edit && activeEvent" class="form-group">
      <label class="col-sm-3 control-label form-text">Schedule:</label>
      <div class="col-sm-4">
        <div class="input-group bottom-spacing" ng-repeat="event in currentEvent.schedule track by $index">
          <div style="padding-left:0" class="col-sm-6">
            <input class="form-control" type="text" placeholder="Time" ng-model="event.time">
          </div>
          <div style="padding-left:0" class="col-sm-6">
            <input class="form-control" type="text" placeholder="Event" ng-model="event.event">
          </div>
          <span class="input-group-btn"><button class="btn btn-danger" ng-click="removeTime(event)"><span class="glyphicon glyphicon-remove"></span></button></span>
        </div>
        <button class="btn btn-primary" style="padding: 2px 6px;" formnovalidate ng-click="addTime()">Add Time Slot</button>
      </div>
    </div>

    <div ng-show="edit && activeEvent" class="form-group">
      <label class="col-sm-3 control-label form-text">Site Packet: </label>
      <div class="col-sm-9">
        <div class="input-group">
          <span class="input-group-btn">
              <span class="btn btn-primary btn-file">
                  Browse&hellip; <input type="file" ngf-select ng-model="files.sitePack" name="sitePacket" accept="">
              </span>
          </span>
          <input ng-show="files.sitePack != undefined" type="text" class="" ng-model="files.sitePack[0].name" readonly>
          <input ng-show="files.sitePack == undefined && currentEvent.sitePack != undefined" type="text" class="" ng-model="currentEvent.sitePack" readonly>
        </div>
      </div>
    </div>

    <div ng-show="edit && activeEvent" class="form-group">
      <label class="col-sm-3 control-label form-text">Site Leads:</label>
      <div class="col-sm-4">
        <div class="input-group bottom-spacing" ng-repeat="lead in currentEvent.siteLeads track by $index">
            <div class="col-sm-6">
              <input class="form-control" type="text" placeholder="Name" ng-model="lead.name">
            </div>
            <div class="col-sm-6">
              <input class="form-control" type="text" placeholder="CEC" ng-model="lead.CEC">
            </div>
            <span class="input-group-btn">
              <button class="btn btn-danger" ng-click="removeLead(lead.CEC)"><span class="glyphicon glyphicon-remove"></span></button>
            </span>
        </div>
        <button class="btn btn-primary" style="padding: 2px 6px;" formnovalidate ng-click="addLead()">Add Lead</button>
      </div>
    </div>
    
  </form>
</tab>

<tab heading="Post Event" ng-show="edit && activeEvent">
  <form name="postSiteForm" class="form-horizontal">
    <div ng-show="edit" class="form-group">
      <label class="col-sm-3 control-label form-text">Finalists: </label>
      <div class="col-sm-3">
        <div class="bottom-spacing" ng-repeat="finalist in currentEvent.finalists track by $index">
          <div style="padding-left:0" class="bottom-spacing col-sm-6">
            <input class="form-control" type="text" placeholder="Team Name" ng-model="finalist.name">
          </div>
          <div style="padding-left:0" class="col-sm-6">
            <input class="form-control" type="text" placeholder="Category" ng-model="finalist.category">
          </div>
          <textarea class="form-control" rows="4" placeholder="Description" ng-model="finalist.description"></textarea>
          <label>Team Members</label>
          <div class="bottom-spacing" ng-repeat="member in finalist.team track by $index">
            <input class="form-control" type="text" placeholder="CEC" ng-model="member.CEC">
          </div>
          <button class="btn btn-primary" style="padding: 2px 6px;" formnovalidate ng-click="addMember(finalist)">Add Member</button>
        </div>
        <button class="btn btn-primary" style="padding: 2px 6px;" formnovalidate ng-click="addFinalist()">Add Finalist</button>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-3 control-label form-text">Pictures: </label>
      <div class="col-sm-9">
        <div class="input-group">
          <span class="input-group-btn">
              <span class="btn btn-primary btn-file">
                  Browse&hellip; <input type="file" ngf-select ngf-multiple="true" ngf-keep="true" ng-model="files.postPics" name="postPics" accept="image/*" required>
              </span>
          </span>
          <input type="text" class="" ng-model="files.postPics[0].name" readonly>
        </div>
        <div>
          <img ng-repeat="pic in files.postPics" ng-show="files.postPics[0] != null" ngf-src="pic" class="img-thumbnail" width="304" height="236">
        </div>
      </div>
    </div>



  </form>
</tab>
</tabset>
    <button class="btn btn-success pull-left"  ng-click="submit()" >
      <span class="glyphicon glyphicon-save"></span>{{submitButton}}
    </button>
    <a href="#/sites">
      <button class="btn pull-right">
          <span class="glyphicon glyphicon-ban-circle"></span> Cancel
      </button>
    </a>
</div>
<br>